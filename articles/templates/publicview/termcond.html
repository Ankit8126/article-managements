{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms and Conditions</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
                body {
            background-color: #f4f7fc;
            font-family: 'Arial', sans-serif;
        }
        body::-webkit-scrollbar{
            display: none;
        }


.navbar-nav .nav-item .nav-link {
    color: var(--text-color);
    padding: 10px 15px;
    font-size: 18px;
}

.navbar-nav .nav-item .nav-link:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: blueviolet;
}

.navbar-nav .nav-item .dropdown-menu {
    background-color: blueviolet;
    border: none;
    min-width: 200px;
}

.navbar-nav .nav-item .dropdown-item {
    color: var(--text-color);
}

.navbar-nav .nav-item .dropdown-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: blueviolet;
}

.user-image {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    margin-right: 10px;
}

.username {
    font-size: 1rem;
    color: var(--text-color);
}
.navbar-nav{

    background: #fff;
    border-radius: 10px;
    margin-top: 5px;
}

        .article-card {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            background-color: white;
        }
        .article-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 2px solid #ddd;
        }
        .card-body {
            padding: 20px;
        }
        .article-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: blueviolet;
            margin-bottom: 15px;
        }
        .article-meta {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 20px;
        }
        .article-content {
            color: #555;
            font-size: 1rem;
            margin-bottom: 20px;
            height: 50px;
        }
        .article-footer{
            display: grid;
        }
        .btn-primary {
            background-color: #8a2be2;
            border-color: #8a2be2;
        }
        .btn-primary:hover {
            background-color: #7a1fb1;
            border-color: #7a1fb1;
        }
        .header-title {
            font-size: 2.5rem;
            color: #3f51b5;
            font-weight: bold;
            margin-bottom: 30px;
            text-align: center;
        }
        .footer {
            background-color: blueviolet;
            color: white;
            text-align: center;
            padding: 15px;
            margin-top: 50px;
        }
@media (max-width:990px) {
    
    .navbar-nav .nav-item .dropdown-menu {
    background-color: #fff;
    border: 5px solid blueviolet;
    min-width: 200px;

}
.dropdown-item{
    text-align: center;
}
}
        .terms-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin: 30px auto;
            padding: 30px;
            max-width: 800px;
        }
        .terms-title {
            font-size: 2rem;
            font-weight: bold;
            color: #3f51b5;
            text-align: center;
            margin-bottom: 20px;
        }
        .terms-content {
            font-size: 1rem;
            color: #555;
            line-height: 1.8;
        }
        .terms-content h3 {
            margin-top: 20px;
            font-size: 1.5rem;
            color: #3f51b5;
        }
        .terms-content p {
            margin-bottom: 15px;
        }
        .footer {
            background-color: blueviolet;
            color: white;
            text-align: center;
            padding: 15px;
            margin-top: 50px;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
     <!-- Navbar -->
     <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: blueviolet;">
        <div class="container">
            <a class="navbar-brand" href="#">ArticleHub</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'index' %}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#articles-container">Articles</a>
                    </li>
                    <li class="nav-item" id="dash">
                        <a class="nav-link" href="{% url 'articles:Dashboard' %}">Dashboard</a>
                    </li>
                    <li class="nav-item" id="login">
                        <a class="nav-link" href="{% url 'articles:login' %}">Login</a>
                    </li>
                    <li class="nav-item dropdown" id="dropdown">
                        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRI9lRck6miglY0SZF_BZ_sK829yiNskgYRUg&s" id="userImg" alt="User Image" class="user-image me-2">
                            <span class="username" id="username">Username</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li>
                                <a class="dropdown-item" href="{% url 'articles:Profile' %}">
                                    <i class="fas fa-user me-2"></i> Profile
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" id="logout-btn" href="#">
                                    <i class="fas fa-sign-out-alt me-2"></i> Logout
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Terms and Conditions Section -->
    <div class="terms-card">
        <h1 class="terms-title">Terms and Conditions</h1>
        <div class="terms-content">
            <p>Welcome to <strong>ArticleHub</strong>. By accessing and using this website, you agree to comply with and be bound by the following terms and conditions. If you disagree with any part of these terms, please refrain from using our platform.</p>

            <h3>1. User Responsibilities</h3>
            <p>Users must provide accurate information during registration. Any misuse of the platform, including submitting false articles, spamming, or violating content guidelines, may result in account suspension.</p>

            <h3>2. Content Ownership</h3>
            <p>Authors retain ownership of their articles but grant ArticleHub a non-exclusive license to publish and promote the content. Users must ensure that their submissions do not violate copyright laws or contain offensive material.</p>

            <h3>3. Privacy Policy</h3>
            <p>Your privacy is important to us. ArticleHub collects personal data solely for account management and platform improvement. Refer to our Privacy Policy for more details.</p>

            <h3>4. Role and Permissions</h3>
            <p>Access to platform features depends on your role (Journalist, Editor, or Admin). Misuse of elevated permissions will result in strict actions, including removal of access.</p>

            <h3>5. Termination</h3>
            <p>We reserve the right to terminate or suspend accounts at our discretion if we find any breach of these terms.</p>

            <h3>6. Changes to Terms</h3>
            <p>ArticleHub reserves the right to update these Terms and Conditions at any time. Continued use of the platform signifies your acceptance of any revisions.</p>

            <!-- <h3>7. Contact Us</h3>
            <p>If you have questions or concerns regarding these Terms and Conditions, please <a href="mailto:support@articlehub.com">contact us</a>.</p> -->
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        &copy; 2024 ArticleHub. All Rights Reserved.
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
    <script>
        window.onload = async function () {
            const token = localStorage.getItem("token");
            const data = JSON.parse(localStorage.getItem("user"));
            if (!token || !data){
                document.getElementById('dash').style.display='none';
                document.getElementById('dropdown').style.display='none';
                document.getElementById('login').style.display='block';
            }else{
                document.getElementById('dropdown').style.display='block';
                document.getElementById('login').style.display='none';
                document.getElementById('dash').style.display='block';
            }
            if(data.role==='User'){
                document.getElementById('dash').style.display='none'; 
            }
            document.getElementById("username").innerText = data.username;
            document.getElementById('userImg').src = data.profile.profile_picture ? data.profile.profile_picture : '{% static "images/default-profile.png" %}';
        }
    
        // Logout functionality
        document.getElementById("logout-btn").addEventListener("click", function () {
            const token = localStorage.getItem("token");
    
            if (token) {
                fetch("http://127.0.0.1:8000/api/logout/", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${token}`,
                        "Content-Type": "application/json"
                    }
                })
                .then(response => {
                    if (response.ok) {
                        // Clear localStorage and redirect on successful logout
                        localStorage.removeItem("token");
                        localStorage.removeItem("user");
                        window.location.href = "/users/login"; // Redirect to login
                    } else {
                        response.json().then(data => {
                            console.error("Logout failed:", data);
                            alert("Failed to logout. Please try again.");
                        });
                    }
                })
                .catch(error => {
                    console.error("Error during logout:", error);
                    alert("An error occurred during logout.");
                });
            } else {
                // If no token is found, simply redirect to login
                window.location.href = "/users/login";
            }
        });
    </script>
</body>
</html>
